<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Affor-Da-Drive Fare Guide</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>

        footer{
            background-color: rgb(33, 33, 33);
            color: white;
        }

        a{
            color: white;
        }

        h1{
            font-size: 50px;
        }

        .card{
            max-width: 67%;
        }

        body {
            background-image: url(https://wallpapers.com/images/hd/night-city-background-sjy3a7jbx4v05nec.jpg); 
            background-size: cover;
            background-repeat: no-repeat;
        }

    </style>
</head>
<body class="bg-dark p-2">

    <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#" style="height: 50px;">
            <img src="logo.png" height="50" class="rounded-circle">
            </a>    

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="nav">

                <ul class="navbar-nav ms-auto">

                    <li class="nav-item"><a class="nav-link" href="index.html">HOME</a></li>
                    <li class="nav-item"><a class="nav-link" href="schedule.html">SCHEDULE</a></li>
                    <li class="nav-item"><a class="nav-link" href="help.html">FAQ</a></li>
                    <li class="nav-item"><a class="nav-link" href="farematrix.html"><button class="btn btn-warning">BOOK NOW</button></a></li>
                    <li class="nav-item"><a class="nav-link" href="registration.html"><button class="btn btn-success">CREATE ACCOUNT</button></a></li>

                </ul>

            </div>

        </div>
    </nav>

    <center>
        <div class="card p-4 m-5 shadow">
        
            <h1 class="text-center">Affor-Da-Drive Fare Matrix</h1>

            <hr>

            <h2 class="text-center mb-4">ðŸš…Manila Metro Rail Transit LRT Lines</h2>
            <p class="text-center">Please see the map for a visual diagram of the Metro Transit Lines</p>

            <img src="map.png" class="rounded p-4">

            <hr>

            <form>
                <h3 class="text-center">Pick-Up Location</h3>
                <select class="form-control p-2 mb-3" id="pick">

                    <option value="no-pick" id="no-pick">Select Pick-Up Location</option>
                    <optgroup label="LRT Line 1 (Roosevelt - Baclaran)" name="Line1">

                        <option value="0">Fernando Poe Jr. (Roosevelt)</option>
                        <option value="1.9">Balintawak</option>
                        <option value="4.1">Monumento</option>
                        <option value="5.2">5th Ave</option>
                        <option value="6.1">R. Papa</option>
                        <option value="6.7">Abad Santos</option>
                        <option value="7.6">Blumentritt</option>
                        <option value="8.3">Tayuman</option>
                        <option value="8.9">Bambang</option>
                        <option value="9.6">Doreto Jose</option>
                        <option value="10.3">Carriedo</option>
                        <option value="11">Central Terminal</option>
                        <option value="12.2">United Nations</option>
                        <option value="13">Pedro Gil</option>
                        <option value="13.8">Quirino</option>
                        <option value="14.6">Vito Cruz</option>
                        <option value="15.7">Gil Puyat</option>
                        <option value="16.4">Libertad</option>
                        <option value="17.4">EDSA</option>
                        <option value="18">Baclaran</option>

                    </optgroup>

                </select>


                <h3 class="text-center">Drop-Off Location</h3>
                <select class="form-control p-2 mb-4" id="drop">

                    <option value="no-drop" id="no-drop">Select Drop-Off Location</option>
                    <optgroup label="LRT Line 1 (Roosevelt - Baclaran)" name="Line1">

                        <option value="0">Fernando Poe Jr. (Roosevelt)</option>
                        <option value="1.9">Balintawak</option>
                        <option value="4.1">Monumento</option>
                        <option value="5.2">5th Ave</option>
                        <option value="6.1">R. Papa</option>
                        <option value="6.7">Abad Santos</option>
                        <option value="7.6">Blumentritt</option>
                        <option value="8.3">Tayuman</option>
                        <option value="8.9">Bambang</option>
                        <option value="9.6">Doreto Jose</option>
                        <option value="10.3">Carriedo</option>
                        <option value="11">Central Terminal</option>
                        <option value="12.2">United Nations</option>
                        <option value="13">Pedro Gil</option>
                        <option value="13.8">Quirino</option>
                        <option value="14.6">Vito Cruz</option>
                        <option value="15.7">Gil Puyat</option>
                        <option value="16.4">Libertad</option>
                        <option value="17.4">EDSA</option>
                        <option value="18">Baclaran</option>

                    </optgroup>
                    

                </select>
                
                <hr>

                <h3 class="text-center">Discounts</h3>
                <p class="text-center">(Select what applies to you and we may provide a discount)</p>

                <select class="form-control p-2 mb-4" id="discountType">

                    <option value="1">Select Discount Type</option>
                    <option value="0.8">Undergraduate Student</option>
                    <option value="0.8">Philippines Military Personnel</option>
                    <option value="0.8">Senior Citizen</option>
                    <option value="0.8">PWD</option>

                </select>

            </form>

            <center>

                <button class="btn btn-secondary mb-2" onclick="checkDiscount()">Affor-Da-Point Exchange</button>

                <p id="blank"></p>
                <p id="blank2"></p>
                <p id="blank3"></p>

                <hr>

                <button class="btn btn-primary mb-2 mt-2" onclick="calculateFare()">Calculate Fare</button>
            
                <div class="card p-4 shadow">

                    <p id="result"></p>

                </div>

            </center>
        </div>

    </center>

    <script>

            function checkDiscount(){

                document.getElementById("blank").innerHTML = '<h4 class="text-center mb-3 mt-2">Point-to-Discount</h4>';
                document.getElementById("blank2").innerHTML = '<p class="text-center mb-2">Please insert the number of Affor-Da-Points to be exhanged. Leave blank if unapplicable</p>';
                document.getElementById("blank3").innerHTML = '<input type="number" class="form-control mb-2" placeholder="e.g., 1000">';

            }

            function calculateFare(){

                let basefare = 50; //minimum fare including the 2KM
                let perKMrate = 15;//cost per kilometer beyond 2KM
                let baseKM = 2;//distance included in the base fare

                let test1 = (document.getElementById("pick").value); //assigns the number val of the answers in input tags into vars
                let test2 = (document.getElementById("drop").value); //assigns the number val of the answers in input tags into vars

                if (test1 == "no-pick" || test2 == "no-drop") {
                    
                    window.alert("Please select a pick-up and drop-off point")

                } else {
                    
                    let distance = Math.abs(Number(document.getElementById("drop").value) - Number(document.getElementById("pick").value))

                    if(distance === 0){
                            window.alert("Please choose different station.")
                    }//Assuming they chose the same two stations as pick-up and drop-off, this notifies them to change it. The else condition prevents the system from calculating
                    
                    else{
                        let discountVal = Number(document.getElementById("discountType").value)

                        if (Math.abs(distance <= 2)) {
                            let initialFare = basefare //sets rate to be the minimum

                            if (discountVal == 1) {
                                document.getElementById("result").innerHTML = "Your final fare is " + initialFare + "<br>" + "This distance being an estimate of around " + Math.round(distance) + " km."
                                
                            } else {
                                let finalFare = initialFare * discountVal

                                document.getElementById("result").innerHTML = "Your initial fare is " + initialFare + "<br>" + "This distance being an estimate of around " + Math.round(distance) + " km." + "<br>" + "But with discount, it is " + finalFare
                                
                            }

                        } else {

                            let additional = Math.abs(Math.round((distance - baseKM)*perKMrate))

                            let initialFare = basefare + additional

                            if (discountVal == 1) {
                                document.getElementById("result").innerHTML = "Your final fare is " + initialFare + "<br>" + "This distance being an estimate of around " + Math.round(distance) + " km."
                                
                            } else {
                                let finalFare = initialFare * discountVal

                                document.getElementById("result").innerHTML = "Your initial fare is " + initialFare + "<br>" + "This distance being an estimate of around " + Math.round(distance) + " km." + "<br>" + "But with discount, it is " + finalFare
                                
                            }
                        }//computes discount for if initial fare is above Php 50

                    }

                } //This checks if BOTH fields are answered or not. Otherwise, it won't let you submit the form. If both were answered, it will start computing the fare

            }

    </script>

    <footer class="container-fluid mt-5 p-2">
        <hr>
        <p class="text-center fw-bold">Burgos, Lance; Lindaya, Mikaela; Son, Heather - Group 5 - 9 Emerald (2026)</p>
        <hr>
        <p class="fw-bold m-2">Credits: <a target="_blank" href="https://wallpapers.com/night-city-background">wallpapers.com (bg)</a></p>

    </footer>

</body>
</html>